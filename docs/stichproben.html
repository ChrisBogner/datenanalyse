<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Kapitel 7 Stichproben und Variabilit√§t | Datenanalyse mit R</title>
<meta name="author" content="Christina Bogner">
<meta name="description" content="Begriffe Stichprobenverteilung und Standardfehler erkl√§ren  Zufall bei wiederholter Stichprobenerhebung erkennen  Stichprobenverteilung darstellen  Einfluss der Stichprobengr√∂√üe auf...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Kapitel 7 Stichproben und Variabilit√§t | Datenanalyse mit R">
<meta property="og:type" content="book">
<meta property="og:description" content="Begriffe Stichprobenverteilung und Standardfehler erkl√§ren  Zufall bei wiederholter Stichprobenerhebung erkennen  Stichprobenverteilung darstellen  Einfluss der Stichprobengr√∂√üe auf...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kapitel 7 Stichproben und Variabilit√§t | Datenanalyse mit R">
<meta name="twitter:description" content="Begriffe Stichprobenverteilung und Standardfehler erkl√§ren  Zufall bei wiederholter Stichprobenerhebung erkennen  Stichprobenverteilung darstellen  Einfluss der Stichprobengr√∂√üe auf...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.22/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="font-awesome.min.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="SoSe 2022">Datenanalyse mit R</a>:
        <small class="text-muted">SoSe 2022</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Vorwort</a></li>
<li><a class="" href="einfuehrung.html">Der Kurs</a></li>
<li class="book-part">Teil I: Daten explorieren</li>
<li><a class="" href="erste-schritte.html"><span class="header-section-number">1</span> Erste Schritte in R</a></li>
<li><a class="" href="reproduzieren.html"><span class="header-section-number">2</span> R Markdown f√ºr reproduzierbare Forschung</a></li>
<li><a class="" href="daten.html"><span class="header-section-number">3</span> Datentypen in R</a></li>
<li><a class="" href="ggplot.html"><span class="header-section-number">4</span> Einf√ºhrung in ggplot2</a></li>
<li><a class="" href="daten-einlesen-und-visualisieren.html"><span class="header-section-number">5</span> Daten einlesen und visualisieren</a></li>
<li><a class="" href="explorative-datenanalyse.html"><span class="header-section-number">6</span> Explorative Datenanalyse mit tidyverse</a></li>
<li class="book-part">Teil II: Statistische Inferenz</li>
<li><a class="active" href="stichproben.html"><span class="header-section-number">7</span> Stichproben und Variabilit√§t</a></li>
<li><a class="" href="bootstrapping-und-konfidenzintervalle.html"><span class="header-section-number">8</span> Bootstrapping und Konfidenzintervalle</a></li>
<li><a class="" href="hypothesentsts.html"><span class="header-section-number">9</span> Hypothesentests mit dem Paket infer</a></li>
<li><a class="" href="effekte.html"><span class="header-section-number">10</span> Sch√§tzen von Effekten: Raus aus der \(p &lt; 0.05\)-Falle</a></li>
<li class="book-part">Teil III: Statistische Modellierung</li>
<li><a class="" href="regression.html"><span class="header-section-number">11</span> Lineare Regression</a></li>
<li><a class="" href="regression-inferenz.html"><span class="header-section-number">12</span> Inferenz in linearer Regression</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="daten-und-bericht.html"><span class="header-section-number">A</span> Datenquellen und Struktur des Abschlussberichts</a></li>
<li><a class="" href="aufgabensammlung.html"><span class="header-section-number">B</span> Aufgabensammlung</a></li>
<li><a class="" href="literatur.html">Literatur</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/ChrisBogner/datenanalyse">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="stichproben" class="section level1" number="7">
<h1>
<span class="header-section-number">Kapitel 7</span> Stichproben und Variabilit√§t<a class="anchor" aria-label="anchor" href="#stichproben"><i class="fas fa-link"></i></a>
</h1>
<div class="rmdoutcomes">
<ul>
<li>
Begriffe Stichprobenverteilung und Standardfehler erkl√§ren
</li>
<li>
Zufall bei wiederholter Stichprobenerhebung erkennen
</li>
<li>
Stichprobenverteilung darstellen
</li>
<li>
Einfluss der Stichprobengr√∂√üe auf Stichprobenverteilung
benennen
</li>
</ul>
</div>
<p>Mit diesem Kapitel steigen wir in die schlie√üende Statistik ein. Wir beginnen damit, wie man in der Statistik zu Daten kommt (<strong>Stichprobenerhebung</strong>) und welche Rolle der Zufall dabei spielt. Dabei konzentrieren wir uns auf die Erhebung von einfachen zuf√§lligen Stichproben (<strong>Zufallsstichproben</strong>), nicht auf das Designen von komplizierten Erhebungen. Das ist eine Kunst f√ºr sich und geht √ºber die Ziele dieses Kurses hinaus.</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://moderndive.github.io/moderndive/">moderndive</a></span><span class="op">)</span></code></pre></div>
<div id="stichproben-1" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> Stichproben<a class="anchor" aria-label="anchor" href="#stichproben-1"><i class="fas fa-link"></i></a>
</h2>
<p>Wir nutzen wieder die selbst erstellten Daten aus der Aufgabe <a href="aufgabensammlung.html#werdeschlau">B.1</a>. Die 12000 Studierenden sind unsere <strong>Grundgesamtheit</strong>. Da wir die Daten selbst erstellt haben, wissen wir alles √ºber sie. Das ist ein gro√üer Vorteil von Computerexperimenten üòÑ. Damit alle dieselben Daten erstellen, ist die Zeile <code>set.seed(123)</code> notwendig. Sie sorgt daf√ºr, dass der Generator f√ºr Zufallszahlen in einen zuf√§lligen, aber reproduzierbaren Zustand versetzt wird. Die Zahl in den Klammern ist nicht wichtig. Wichtig ist, dass alle dieselbe benutzen.</p>
<p>F√ºr bessere Nachvollziehbarkeit, nummerieren wir unsere Studierenden diesmal durch.</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>

<span class="va">student_id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12000</span>
  
<span class="va">anreise</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">12000</span> <span class="op">*</span> <span class="fl">0.8</span>, min <span class="op">=</span> <span class="fl">5</span>, max <span class="op">=</span> <span class="fl">40</span><span class="op">)</span>,
             <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">12000</span> <span class="op">*</span> <span class="fl">0.2</span>, min <span class="op">=</span> <span class="fl">60</span>, max <span class="op">=</span> <span class="fl">120</span><span class="op">)</span><span class="op">)</span>

<span class="va">geschlecht</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'m'</span>, <span class="st">'w'</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">12000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">wohnort</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">anreise</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">30</span><span class="op">)</span> <span class="st">'stadt'</span>
  <span class="kw">else</span> <span class="st">'land'</span>
<span class="op">}</span><span class="op">)</span>

<span class="va">verkehrsmittel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">anreise</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">10</span><span class="op">)</span> <span class="st">'zu_fuss'</span>
  <span class="kw">else</span> <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">10</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">15</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'zu_fuss'</span>, <span class="st">'fahrrad'</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
  <span class="kw">else</span> <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">15</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">45</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bus'</span>, <span class="st">'fahrrad'</span>, <span class="st">'auto'</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
  <span class="kw">else</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'bus'</span>, <span class="st">'auto'</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span>

<span class="va">zeit_bib</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">60</span> <span class="op">-</span> <span class="fl">0.7</span> <span class="op">*</span> <span class="va">anreise</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">anreise</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">20</span><span class="op">)</span>

<span class="va">grundgesamtheit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span><span class="va">student_id</span>, <span class="va">geschlecht</span>, <span class="va">wohnort</span>, <span class="va">verkehrsmittel</span>, <span class="va">anreise</span>, <span class="va">zeit_bib</span><span class="op">)</span>

<span class="va">grundgesamtheit</span></code></pre></div>
<pre><code>## # A tibble: 12,000 √ó 6
##    student_id geschlecht wohnort verkehrsmittel anreise zeit_bib
##         &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;
##  1          1 w          stadt   bus              15.1      294.
##  2          2 w          land    fahrrad          32.6      254.
##  3          3 w          stadt   fahrrad          19.3      231.
##  4          4 m          land    auto             35.9      245.
##  5          5 m          land    bus              37.9      234.
##  6          6 w          stadt   zu_fuss           6.59     303.
##  7          7 w          stadt   bus              23.5      284.
##  8          8 m          land    auto             36.2      274.
##  9          9 m          stadt   fahrrad          24.3      299.
## 10         10 w          stadt   bus              21.0      282.
## # ‚Ä¶ with 11,990 more rows</code></pre>
<p>Wir wollen nun 50 Studierende befragen. Durch die zuf√§llige Auswahl an Befragten erzeugen wir eine <strong>zuf√§llige Stichprobe</strong>. √úbersetzt in unser Computerexperiment bedeutet es, dass wir zuf√§llig 50 Zeilen aus dem Datensatz <code>grundgesamtheit</code> ziehen, und zwar so, dass sich diese Zeilen nicht wiederholen (d.h. niemand mehrfach befragt wird). Dazu nutzen wir die Funktion <code><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n()</a></code>, die wiederholt (<em>rep</em>) <em>n</em> Zeilen zieht (<em>sample</em>), und zwar mit der Einstellung <code>replace = FALSE</code>, also ohne Zur√ºcklegen. Wir befragen nur einmal, daher <code>reps = 1</code>.</p>
<p>Damit alle wieder dieselben Daten bekommen, setzen wir vorher den seed (Zustand des Zufallszahlengenerators). Die Variable <code>befragung_size</code> gibt die <strong>Stichprobengr√∂√üe</strong> an.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">345</span><span class="op">)</span>

<span class="va">befragung_size</span> <span class="op">&lt;-</span> <span class="fl">50</span>

<span class="va">befragung</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n</a></span><span class="op">(</span><span class="va">grundgesamtheit</span>, size <span class="op">=</span> <span class="va">befragung_size</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, reps <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="va">befragung</span></code></pre></div>
<pre><code>## # A tibble: 50 √ó 7
## # Groups:   replicate [1]
##    replicate student_id geschlecht wohnort verkehrsmittel anreise zeit_bib
##        &lt;int&gt;      &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;
##  1         1       1623 m          stadt   zu_fuss           7.06     299.
##  2         1       9171 m          stadt   fahrrad          11.3      278.
##  3         1      10207 w          land    bus             107.       199.
##  4         1       3506 w          stadt   bus              25.0      326.
##  5         1       8892 w          stadt   bus              28.1      259.
##  6         1       5460 m          stadt   bus              23.6      299.
##  7         1       6120 w          stadt   bus              20.0      268.
##  8         1        865 w          stadt   fahrrad          26.6      290.
##  9         1      11586 m          land    bus             114.       207.
## 10         1       8153 w          stadt   zu_fuss           8.06     297.
## # ‚Ä¶ with 40 more rows</code></pre>
<p>Die Variable <code>replicate</code> zeigt immer 1. Das bedeutet, dass wir die Befragung einmal wiederholt (repliziert) haben und alle Datenpunkte zu dieser Wiederholung geh√∂ren.</p>
<p>Wir wollen nun wissen, wie viele Studierende unter den Befragten in der Stadt oder auf dem Land wohnen.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">befragung</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 √ó 2
## # Groups:   wohnort [2]
##   wohnort     n
##   &lt;chr&gt;   &lt;int&gt;
## 1 land       21
## 2 stadt      29</code></pre>
<p>Das Ganze m√∂chten wir als Anteile ausdr√ºcken. Die Funktion <code><a href="https://dplyr.tidyverse.org/reference/context.html">n()</a></code> kann innerhalb der Funktion <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> zum Ausz√§hlen genutzt werden. Wir teilen durch die Stichprobengr√∂√üe.</p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">befragung</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="va">befragung_size</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 √ó 2
##   wohnort  prop
##   &lt;chr&gt;   &lt;dbl&gt;
## 1 land     0.42
## 2 stadt    0.58</code></pre>
<p>Es wohnen also 42% auf dem Land und 58% in der Stadt.</p>
<p>Was passiert, wenn wir die Befragung mehrfach wiederholen, sagen wir 33 Mal? In der Realit√§t ist dieses Szenario sehr unwahrscheinlich, aber in einem Computerexperiment einfach zu implementieren. Es hilft uns ein Gef√ºhl f√ºr die <strong>Variabilit√§t</strong>, die durch das zuf√§llige Ausw√§hlen der Studierenden bei der Befragung entsteht, zu entwickeln.</p>
<p>Wir setzten erneut den seed, damit alle dieselben Ergebnisse bekommen.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">234</span><span class="op">)</span>

<span class="va">befragung_reps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n</a></span><span class="op">(</span><span class="va">grundgesamtheit</span>, size <span class="op">=</span> <span class="va">befragung_size</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, reps <span class="op">=</span> <span class="fl">33</span><span class="op">)</span>

<span class="va">befragung_reps</span></code></pre></div>
<pre><code>## # A tibble: 1,650 √ó 7
## # Groups:   replicate [33]
##    replicate student_id geschlecht wohnort verkehrsmittel anreise zeit_bib
##        &lt;int&gt;      &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;
##  1         1       2079 m          land    auto              38.8     262.
##  2         1       1314 m          stadt   fahrrad           13.3     301.
##  3         1       1710 m          stadt   auto              26.5     272.
##  4         1       4386 w          stadt   bus               23.9     269.
##  5         1       9490 m          land    auto              34.2     262.
##  6         1      11757 w          land    bus              102.      227.
##  7         1      11649 w          land    bus              111.      202.
##  8         1       2244 m          land    bus               38.9     256.
##  9         1       3652 w          stadt   fahrrad           10.3     254.
## 10         1       3127 m          stadt   fahrrad           29.6     271.
## # ‚Ä¶ with 1,640 more rows</code></pre>
<p>Jetzt wird uns angezeigt, dass es in dem Datensatz <code>befragung_reps</code> 33 replicates (Wiederholgungen) gibt. Diese sind einfach nacheinander in <code>befragung_reps</code> angeordnet (bl√§ttern Sie durch den Datensatz). Dementsprechend hat der Datensatz 50 <span class="math inline">\(\times\)</span> 33 = 1650 Zeilen.</p>
<p>Wie sieht es jetzt mit den Anteilen von Stadt- und Landbewohnern aus? Wir m√ºssen nun zus√§tzlich zum <code>wohnort</code> auch noch nach <code>replicate</code> gruppieren.</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wohnort_props</span> <span class="op">&lt;-</span> <span class="va">befragung_reps</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">replicate</span>, <span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="va">befragung_size</span><span class="op">)</span>

<span class="va">wohnort_props</span></code></pre></div>
<pre><code>## # A tibble: 66 √ó 3
## # Groups:   replicate [33]
##    replicate wohnort  prop
##        &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;
##  1         1 land     0.42
##  2         1 stadt    0.58
##  3         2 land     0.36
##  4         2 stadt    0.64
##  5         3 land     0.4 
##  6         3 stadt    0.6 
##  7         4 land     0.38
##  8         4 stadt    0.62
##  9         5 land     0.4 
## 10         5 stadt    0.6 
## # ‚Ä¶ with 56 more rows</code></pre>
<p>Erwartungsgem√§√ü bringt jede Wiederholung der Befragung, die wir ja als zuf√§lliges Herausgreifen der Studierenden ohne Mehrfachbefragung programmiert haben, etwas andere Ergebnisse. Sehen Sie sich die <code>student_id</code> in den replicates an, es werde unterschiedliche Studierende befragt! In einem Histogramm sieht das Ganze so aus:</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wohnort_props</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.05</span>, boundary <span class="op">=</span> <span class="fl">0.4</span>, col <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">wohnort</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Anteile beim Wohnort'</span>, title <span class="op">=</span> <span class="st">'Verteilung der Wohnorte'</span>, y <span class="op">=</span> <span class="st">'H√§ufigkeit'</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="datenanalyse_files/figure-html/unnamed-chunk-105-1.png" width="90%"></div>
<p>Die h√§ufigsten Anteile sind um die 40% f√ºr Land und um die 60% f√ºr Stadt. Wir k√∂nnen es sogar etwas genauer ablesen, da wir <code>binwidth = 0.05</code> gew√§hnt haben, also Schritte von 5%. Es sind 35‚Äì40% f√ºr Land und 55‚Äì60% f√ºr Stadt.</p>
</div>
<div id="anzahl-der-wiederholungen-und-variabilit√§t" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> Anzahl der Wiederholungen und Variabilit√§t<a class="anchor" aria-label="anchor" href="#anzahl-der-wiederholungen-und-variabilit%C3%A4t"><i class="fas fa-link"></i></a>
</h2>
<p>Was passiert, wenn wir unsere Umfrage 1000 Mal wiederholen? Wir k√∂nnen den ganzen Code wiederverwenden und m√ºssen nur die reps entsprechend ver√§ndern. Wir erstellen daf√ºr eine zus√§tzliche Variable <code>befragung_num</code>. Beim Histogramm sollten wir die <code>binwidth</code> etwas heruntersetzten, da wir jetzt sehr viel mehr Daten haben und diese detaillierter anzeigen lassen k√∂nnen. Zus√§tzlich wird die x-Achse ‚Äúfrei‚Äù gegeben, i.e.¬†die Skalierung wird jetzt auf jeder Achse separat bestimmt <code>scales = 'free_x'</code> in <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap()</a></code>, um die Verteilungen besser zu sehen.</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">345</span><span class="op">)</span>

<span class="va">befragung_num</span> <span class="op">&lt;-</span> <span class="fl">1000</span>

<span class="va">befragung_reps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n</a></span><span class="op">(</span><span class="va">grundgesamtheit</span>, size <span class="op">=</span> <span class="va">befragung_size</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, reps <span class="op">=</span> <span class="va">befragung_num</span><span class="op">)</span>

<span class="va">wohnort_props</span> <span class="op">&lt;-</span> <span class="va">befragung_reps</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">replicate</span>, <span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="va">befragung_size</span><span class="op">)</span>


<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wohnort_props</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.02</span>, boundary <span class="op">=</span> <span class="fl">0.4</span>, col <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">wohnort</span>, scales <span class="op">=</span> <span class="st">'free_x'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Anteile beim Wohnort'</span>, title <span class="op">=</span> <span class="st">'Verteilung der Wohnorte'</span>, y <span class="op">=</span> <span class="st">'H√§ufigkeit'</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="datenanalyse_files/figure-html/unnamed-chunk-106-1.png" width="90%"></div>
<p>Die h√§ufigsten Anteile beim Land liegen bei 40‚Äì42% und bei der Stadt bei 58‚Äì60%.</p>
<p>Die Histogramme geben nun gut die Verteilung der Anteile der Stadt- und Landbewohner wieder. Solche Verteilungen nennt man <strong>Stichprobenverteilungen</strong>. Sie zeigen die Verteilung einer statistischen Kenngr√∂√üe (Statistik), in unserem Fall Anteil, die aus zuf√§lligen Stichproben ausgerechnet wurde. Die Stichprobenverteilung beantwortet die Frage: Wenn ich eine zuf√§llige Menge (Stichprobengr√∂√üe) an Daten (Zufallsstichprobe) aus der Grundgesamtheit herausgreife und eine Kenngr√∂√üe (z.B. Anteil) berechne, welchen Wert werde ich im Mittel erhalten und wie stark wird der Wert schwanken.</p>
</div>
<div id="stichprobengr√∂√üe" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> Stichprobengr√∂√üe<a class="anchor" aria-label="anchor" href="#stichprobengr%C3%B6%C3%9Fe"><i class="fas fa-link"></i></a>
</h2>
<p>Was passiert, wenn wir die Gr√∂√üe der Stichproben variieren? Das w√ºrde Befragungen mit unterschiedlicher Anzahl von Teilnehmern entsprechen. Wir vergleichen 25, 50 und 100 Befragte und wiederholen jeweils 1000 Mal, um erneut Stichprobenverteilungen plotten zu k√∂nnen. Das ist eine repetitive Aufgabe und ich werde daf√ºr eine Funktion definieren. Wie man das macht, wird in einer sp√§teren Stunde erkl√§rt.</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">calculate_props</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">grund_data</span> <span class="op">=</span> <span class="va">grundgesamtheit</span>, <span class="va">befragung_size</span>, <span class="va">befragung_reps</span> <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="va">befragung</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n</a></span><span class="op">(</span><span class="va">grund_data</span>, size <span class="op">=</span> <span class="va">befragung_size</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, reps <span class="op">=</span> <span class="va">befragung_reps</span><span class="op">)</span>

<span class="va">wohnort_props</span> <span class="op">&lt;-</span> <span class="va">befragung</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">replicate</span>, <span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="va">befragung_size</span><span class="op">)</span>

<span class="va">wohnort_props</span>
<span class="op">}</span></code></pre></div>
<p>Nun wenden wir diese selbst definierte Funktion an und f√ºhren die Befragungen durch.</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>

<span class="co"># Stichprobengr√∂√üe 25</span>
<span class="va">wohnort_props_25</span> <span class="op">&lt;-</span> <span class="fu">calculate_props</span><span class="op">(</span>grund_data <span class="op">=</span> <span class="va">grundgesamtheit</span>, befragung_size <span class="op">=</span> <span class="fl">25</span>, befragung_reps <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>
  
<span class="co"># Stichprobengr√∂√üe 50</span>
<span class="va">wohnort_props_50</span> <span class="op">&lt;-</span> <span class="fu">calculate_props</span><span class="op">(</span>grund_data <span class="op">=</span> <span class="va">grundgesamtheit</span>, befragung_size <span class="op">=</span> <span class="fl">50</span>, befragung_reps <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>

<span class="co"># Stichprobengr√∂√üe 100</span>
<span class="va">wohnort_props_100</span> <span class="op">&lt;-</span> <span class="fu">calculate_props</span><span class="op">(</span>grund_data <span class="op">=</span> <span class="va">grundgesamtheit</span>, befragung_size <span class="op">=</span> <span class="fl">100</span>, befragung_reps <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></code></pre></div>
<p>Wir stellen die drei Stichprobenverteilungen dar. Die Einstellung f√ºr <code>binwidth</code> ist jeweils eine andere.</p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wohnort_props_25</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.04</span>, boundary <span class="op">=</span> <span class="fl">0.4</span>, col <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">wohnort</span>, scales <span class="op">=</span> <span class="st">'free_x'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Anteile beim Wohnort'</span>, title <span class="op">=</span> <span class="st">'Verteilung der Wohnorte, Stichprobengr√∂√üe = 25'</span>, y <span class="op">=</span> <span class="st">'H√§ufigkeit'</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="datenanalyse_files/figure-html/unnamed-chunk-109-1.png" width="90%"></div>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wohnort_props_50</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.02</span>, boundary <span class="op">=</span> <span class="fl">0.4</span>, col <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">wohnort</span>, scales <span class="op">=</span> <span class="st">'free_x'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Anteile beim Wohnort'</span>, title <span class="op">=</span> <span class="st">'Verteilung der Wohnorte, Stichprobengr√∂√üe = 50'</span>, y <span class="op">=</span> <span class="st">'H√§ufigkeit'</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="datenanalyse_files/figure-html/unnamed-chunk-109-2.png" width="90%"></div>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wohnort_props_100</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.02</span>, boundary <span class="op">=</span> <span class="fl">0.4</span>, col <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">wohnort</span>, scales <span class="op">=</span> <span class="st">'free_x'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Anteile beim Wohnort'</span>, title <span class="op">=</span> <span class="st">'Verteilung der Wohnorte, Stichprobengr√∂√üe = 100'</span>, y <span class="op">=</span> <span class="st">'H√§ufigkeit'</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="datenanalyse_files/figure-html/unnamed-chunk-109-3.png" width="90%"></div>
<p>Wie kann man diese Stichprobenverteilungen charakterisieren? Es sind in erster Linie Daten und wie bei jedem Datensatz kann man auch hier einen Mittelwert und eine Standardabweichung angeben. Die Standardabweichung der Stichprobenverteilung hei√üt <strong>Standardfehler</strong> und fasst den Einfluss der Variabilit√§t (zuf√§lliges Herausgreifen der Studierenden) zusammen.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wohnort_props_25</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">prop</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 √ó 2
##   wohnort prop_sd
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 land      0.102
## 2 stadt     0.102</code></pre>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wohnort_props_50</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">prop</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 √ó 2
##   wohnort prop_sd
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 land     0.0679
## 2 stadt    0.0679</code></pre>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wohnort_props_100</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">wohnort</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">prop</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2 √ó 2
##   wohnort prop_sd
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 land     0.0458
## 2 stadt    0.0458</code></pre>
<p>Sie sehen, dass mit steigender Stichprobengr√∂√üe der Standardfehler sinkt. Das ist intuitiv verst√§ndlich, denn je mehr Studierende wir (pro Wiederholung!) befragen, desto repr√§sentativer ist die Stichprobe.</p>
<p>Da dieses Kapitel so wichtig ist, gibt es ausnahmsweise vorformulierte Take-Home-Messages üòÑ:</p>
<div class="rmdalert">
<ul>
<li>
Eine zuf√§llige Stichprobe ist (meistens<span class="math inline"><span class="math inline">\(^*\)</span></span>) der K√∂nigsweg, um repr√§sentative
Informationen √ºber die Grundgesamtheit zu bekommen.
</li>
<li>
Die Verteilung einer statistischen Kenngr√∂√üe, die aus
Zufallsstichproben ausgerechnet wurde, hei√üt Stichprobenverteilung. Um
diese Verteilung zu bekommen, muss man wiederholt Stichproben erheben.
Je mehr Stichproben man erhebt, desto genauer kann man die
Stichprobenverteilung beschreiben.
</li>
<li>
Die Standardabweichung der Kenngr√∂√üe, die durch die
Stichprobenverteilung dargestellt wird, hei√üt Standardfehler.
</li>
<li>
Der Zufall macht sich durch eine Streuung (erfasst durch den
Standardfehler) in der Stichprobenverteilung bemerkbar. Je gr√∂√üer die
einzelnen Stichproben, desto kleiner der Standardfehler.
</li>
</ul>
</div>
<p><span class="math inline">\(^*\)</span>: Manchmal ist die interessierte Gr√∂√üe in unterschiedlichen Untergruppen der Grundgesamtheit unterschiedlich verteilt. Z.B. k√∂nnten bestimmte Haltungen in der Bev√∂lkerung gegen√ºber irgendwelchen Sachverhalten von Alter oder Bildungsstand oder Wohnort (Stadt vs.¬†Land) abh√§ngen. Dann sollte man sich √ºberlegen, ob man statt einer zuf√§lligen Stichprobe lieber eine <strong>geschichtete Zufallsstichprobe</strong> zieht, d.h. innerhalb dieser Kategorien zuf√§llig beprobt.</p>
</div>
<div id="lesestoff-7" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> Lesestoff<a class="anchor" aria-label="anchor" href="#lesestoff-7"><i class="fas fa-link"></i></a>
</h2>
<p>Kapitel 7 in <span class="citation">Ismay and Kim (<a href="literatur.html#ref-ModernDive" role="doc-biblioref">2021</a>)</span></p>
</div>
<div id="aufgaben-5" class="section level2" number="7.5">
<h2>
<span class="header-section-number">7.5</span> Aufgaben<a class="anchor" aria-label="anchor" href="#aufgaben-5"><i class="fas fa-link"></i></a>
</h2>
<div id="wahrer-wert-in-der-grundgesamtheit" class="section level3" number="7.5.1">
<h3>
<span class="header-section-number">7.5.1</span> Wahrer Wert in der Grundgesamtheit<a class="anchor" aria-label="anchor" href="#wahrer-wert-in-der-grundgesamtheit"><i class="fas fa-link"></i></a>
</h3>
<p>Berechnen Sie die Anteile von Studierenden in der Grundgesamtheit, die in der Stadt bzw. auf dem Land leben. Wie gut waren die Sch√§tzungen im Vergleich zum wahren Wert in der Grundgesamtheit?</p>
</div>
<div id="lohnt-eine-station-zum-ausleihen-von-fahrr√§dern" class="section level3" number="7.5.2">
<h3>
<span class="header-section-number">7.5.2</span> Lohnt eine Station zum Ausleihen von Fahrr√§dern?<a class="anchor" aria-label="anchor" href="#lohnt-eine-station-zum-ausleihen-von-fahrr%C3%A4dern"><i class="fas fa-link"></i></a>
</h3>
<p>In unserem fiktiven Beispiel der Uni Werdeschlau geht es eigentlich darum, ob sich eine Station zum Parken und Reparieren (also eine Servicestation) von Fahrr√§dern lohnen w√ºrde. Daher ist die Frage interessant, wie viele Studierende mit dem Fahrrad zur Uni kommen. Wiederholen Sie die obige Analyse und ermitteln Sie statt der Anteile von Stadt- und Landbewohnern nun die Anteile der unterschiedlichen Verkehrsmittel. Die selbst definierte Funktion m√ºssen Sie durch die folgende ersetzen.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">calculate_props_verkehr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">grund_data</span> <span class="op">=</span> <span class="va">grundgesamtheit</span>, <span class="va">befragung_size</span>, <span class="va">befragung_reps</span> <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="va">befragung</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://infer.tidymodels.org/reference/rep_sample_n.html">rep_sample_n</a></span><span class="op">(</span><span class="va">grund_data</span>, size <span class="op">=</span> <span class="va">befragung_size</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, reps <span class="op">=</span> <span class="va">befragung_reps</span><span class="op">)</span>

<span class="va">verkehrsmittel_props</span> <span class="op">&lt;-</span> <span class="va">befragung</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">replicate</span>, <span class="va">verkehrsmittel</span><span class="op">)</span> <span class="op"><a href="moderndive.github.io/moderndive//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="va">befragung_size</span><span class="op">)</span>

<span class="va">verkehrsmittel_props</span>
<span class="op">}</span></code></pre></div>
<p>In der L√∂sung zu dieser Aufgabe erhalten Sie auch weitere Tipps zur Darstellung von Histogrammen und Dichtefunktionen üòé.</p>
</div>
</div>
<div id="ihre-arbeit-einreichen-3" class="section level2" number="7.6">
<h2>
<span class="header-section-number">7.6</span> Ihre Arbeit einreichen<a class="anchor" aria-label="anchor" href="#ihre-arbeit-einreichen-3"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Speichern Sie Ihr Notebook ab und laden Sie nur die .Rmd Datei vom Server.</li>
<li>Laden Sie Ihre .Rmd Datei in ILIAS hoch. <strong>Beachten Sie die Frist!</strong>
</li>
<li>Sie erhalten die Musterl√∂sung nach dem Hochladen.</li>
</ul>
<!-- ## Weiterf√ºhrende Literatur -->
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="explorative-datenanalyse.html"><span class="header-section-number">6</span> Explorative Datenanalyse mit tidyverse</a></div>
<div class="next"><a href="bootstrapping-und-konfidenzintervalle.html"><span class="header-section-number">8</span> Bootstrapping und Konfidenzintervalle</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#stichproben"><span class="header-section-number">7</span> Stichproben und Variabilit√§t</a></li>
<li><a class="nav-link" href="#stichproben-1"><span class="header-section-number">7.1</span> Stichproben</a></li>
<li><a class="nav-link" href="#anzahl-der-wiederholungen-und-variabilit%C3%A4t"><span class="header-section-number">7.2</span> Anzahl der Wiederholungen und Variabilit√§t</a></li>
<li><a class="nav-link" href="#stichprobengr%C3%B6%C3%9Fe"><span class="header-section-number">7.3</span> Stichprobengr√∂√üe</a></li>
<li><a class="nav-link" href="#lesestoff-7"><span class="header-section-number">7.4</span> Lesestoff</a></li>
<li>
<a class="nav-link" href="#aufgaben-5"><span class="header-section-number">7.5</span> Aufgaben</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#wahrer-wert-in-der-grundgesamtheit"><span class="header-section-number">7.5.1</span> Wahrer Wert in der Grundgesamtheit</a></li>
<li><a class="nav-link" href="#lohnt-eine-station-zum-ausleihen-von-fahrr%C3%A4dern"><span class="header-section-number">7.5.2</span> Lohnt eine Station zum Ausleihen von Fahrr√§dern?</a></li>
</ul>
</li>
<li><a class="nav-link" href="#ihre-arbeit-einreichen-3"><span class="header-section-number">7.6</span> Ihre Arbeit einreichen</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/ChrisBogner/datenanalyse/blob/master/07-stichproben.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/ChrisBogner/datenanalyse/edit/master/07-stichproben.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Datenanalyse mit R</strong>: SoSe 2022" was written by Christina Bogner. It was last built on 2022-05-16.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
